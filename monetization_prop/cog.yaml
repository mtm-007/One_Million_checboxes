# Configuration for Cog ⚙️
# Reference: https://github.com/replicate/cog/blob/main/docs/yaml.md

build:
  gpu: True
  #cuda: "12.8"
  python_version: "3.12"
  system_packages:
    - "git"
    - "libgl1"
    - "libglib2.0-0"
    - "ffmpeg"
    - "libsm6"
    - "libxext6"
    - "wget"
  
  python_packages:
    - "uv"  # Install uv first
  # Install uv and use it for faster package installation
  run:
    - "uv pip install --system  \
      diffusers==0.36.0 \
      torch==2.8.0 \
      transformers==4.57.3 \ 
      huggingface-hub==0.36.0 \
      invisible-watermark==0.2.0 \ 
      accelerate==1.12  \
      pandas==2.1.4   \
      torchvision==0.23.0  \
      numpy==1.26.4  \
      fire==0.7.1  \
      opencv-python==4.11.0.86  \ 
      mediapipe==0.10.21"  

predict: "predict.py:Predictor"